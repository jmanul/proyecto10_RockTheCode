header {

     position: fixed;
     top: 0;
     min-height:140px;
     width: 100%;
     z-index: 100;
     background-color: var(--dark-gray);
     -webkit-backdrop-filter: blur(52px);
     backdrop-filter: blur(52px);
     color: var(--light-gray);
     box-shadow: var(--box-shadow-6);
     border-bottom-left-radius: var(--border-radius-big);
     border-bottom-right-radius: var(--border-radius-big);
     view-transition-name: header;
}

@supports (animation-timeline: scroll()) {
     header {
          background-color: transparent;
          animation: header-transparent linear both;
          animation-timeline: scroll();
          animation-range: 0px 200px;
     }
}

@keyframes header-transparent {

     0% {
          background-color: transparent;
          
     }

     75% {
          background-color: var(--dark-gray);
         
     }

     100% {
          background-color: var(--dark-gray);
        
     }
}


.nav-menu-header-web {
     
     width: 90%;
     margin: var(--spacing-large) 0 var(--spacing-small);
}

@supports (animation-timeline: scroll()) {
     .nav-menu-header-web {
          animation: menu-spacing linear both;
          animation-timeline: scroll();
          animation-range: 0px 200px;
     }
}

@keyframes menu-spacing {

     0% {
          margin: 5rem 0 2rem 0;

     }

  

     100% {

          margin: var(--spacing-large) 0 var(--spacing-little-bit);

     }
}

.menu-header-web {
     
     justify-content: right;
}

.menu-header-web,
.menu-header-web li {

     flex-direction: row;
     font-size: 1rem;
     color: var(--light-gray);


}

.menu-option {

   
     border-right:3px solid transparent;
     padding-right: var(--spacing-little-bit);
}

.menu-header-web div {

     width: 2.7rem;
     height: 2.7rem;
     border: 2px solid var(--light-gray);
     border-radius: 50%;

}

.menu-header-web img {
     padding: 5px;
     width: 100%;
     height: 100%;
     border: 2px solid var(--neon-magenta);
     border-radius: 50%;
     transition: .2s;

     &:hover {

          border: 3px solid var(--neon-cyan);
          box-shadow: var(--box-shadow-5);
     }

}

/* Contenedor del botón de tema - en desktop el botón usa position:fixed desde su CSS */
.theme-menu-item {
     display: flex;
     justify-content: center;
     align-items: center;
}

/* En móvil, la opción del tema debe verse como los demás items */
.theme-menu-option {
     display: block;
}

/* Botón hamburguesa - oculto en desktop */
.hamburger-btn {
     display: none;
     background: transparent;
     border: none;
     font-size: 2rem;
     color: var(--light-gray);
     cursor: pointer;
     z-index: 200;
     padding: 0.5rem;
     transition: color 0.3s ease;
     box-shadow: none;
}

/* Estado abierto del menú móvil - GLOBAL para máxima prioridad */
.nav-menu-header-web.menu-open {
     visibility: visible !important;
     clip-path: inset(0 0 0 0) !important;
     opacity: 1 !important;
     max-height: 80vh !important;
     pointer-events: auto !important;
}

.hamburger-btn:hover {
     color: var(--neon-cyan);
     box-shadow: none;
}

.hamburger-btn.active i {
     color: var(--neon-magenta);
}

.hamburger-btn i {
     font-size: inherit;
     display: flex;
     align-items: center;
     justify-content: center;
}

/* ===================== MEDIA QUERIES HEADER ===================== */

/* Tablet */
@media (max-width: 1024px) {
     header {
          min-height: 120px;
     }

     .nav-menu-header-web {
          margin: var(--spacing-medium) 0 var(--spacing-little-bit);
     }

     .menu-header-web {
          gap: var(--spacing-little-bit);
     }

     .menu-header-web li {
          font-size: 0.9rem;
     }
}

/* Móvil */
@media (max-width: 768px) {
     header {
          min-height: 70px;
          padding: var(--spacing-little-bit) var(--spacing-small);
          display: flex !important;
          flex-direction: row !important;
          flex-wrap: nowrap !important;
          justify-content: space-between !important;
          align-items: center !important;
          gap: var(--spacing-small);
          overflow: visible;
     }

     /* Ordenar elementos: logo - espacio - hamburger */
     header > .logo {
          order: 1;
          flex-shrink: 0;
     }

     header > .nav-menu-header-web {
          order: 2;
     }

     header > .hamburger-btn {
          order: 3;
          display: flex !important;
          visibility: visible !important;
          opacity: 1 !important;
          z-index: 300;
     }

     /* Contenedor del botón de tema dentro del menú móvil */
     .theme-menu-item {
          display: flex !important;
          justify-content: center;
          align-items: center;
          width: 100%;
          padding: var(--spacing-little-bit) 0;
     }

     .theme-menu-option {
          display: flex !important;
          justify-content: center;
          width: 100%;
          padding: var(--spacing-little-bit) var(--spacing-small) !important;
          border-bottom: none !important;
          margin-top: var(--spacing-little-bit);
          border-top: 1px solid var(--light-gray);
     }
     .hamburger-btn {
          display: flex !important;
          align-items: center;
          justify-content: center;
          background: var(--background-color-transparent);
          border-radius: var(--border-radius-small);
          padding: 0.5rem;
          font-size: 1.8rem;
          min-width: 44px;
          min-height: 44px;
          color: var(--light-gray);
          border: none;
          cursor: pointer;
     }

     .hamburger-btn i {
          display: block !important;
          font-size: 1.8rem;
          line-height: 1;
     }

     .nav-menu-header-web {
          position: fixed !important;
          top: 70px !important;
          left: 0 !important;
          right: 0 !important;
          background: var(--background-color) !important;
          -webkit-backdrop-filter: blur(20px) !important;
          backdrop-filter: blur(20px) !important;
          padding: var(--spacing-medium) !important;
          margin: 0 !important;
          width: 100% !important;
          box-shadow: var(--box-shadow) !important;
          border-bottom-left-radius: var(--border-radius-big) !important;
          border-bottom-right-radius: var(--border-radius-big) !important;
          z-index: 99 !important;
          display: block !important;
          /* Desactivar animación de scroll en móvil */
          animation: none !important;
          /* Estado cerrado */
          visibility: hidden;
          clip-path: inset(0 0 100% 0);
          transition: clip-path 0.3s ease-in-out, visibility 0.3s ease-in-out;
     }

     /* Asegurar que el ul interno sea visible */
     .nav-menu-header-web .menu-header-web {
          display: flex !important;
          flex-direction: column !important;
          align-items: stretch !important;
          justify-content: flex-start !important;
          width: 100% !important;
          gap: 0 !important;
     }

     /* Links del menú */
     .nav-menu-header-web .menu-header-web a.menu-option {
          display: flex !important;
          width: 100% !important;
          padding: var(--spacing-little-bit) var(--spacing-small) !important;
          border-bottom: 1px solid var(--light-gray);
          opacity: 1 !important;
          visibility: visible !important;
     }

     .nav-menu-header-web .menu-header-web a.menu-option:last-child {
          border-bottom: none;
     }

     /* Items dentro de los links */
     .nav-menu-header-web .menu-header-web li {
          display: flex !important;
          flex-direction: row !important;
          justify-content: flex-start !important;
          align-items: center !important;
          width: 100% !important;
          gap: var(--spacing-small) !important;
     }

     .menu-option {
          border-right: none;
          padding-right: 0;
          width: 100%;
     }

     .menu-header-web div {
          width: 2.2rem;
          height: 2.2rem;
     }

     .item-text {
          font-size: 1rem;
     }

     /* Logo más pequeño en móvil */
     .logo-container {
          max-width: 150px;
     }

     .logo-container img {
          max-height: 60px;
     }
}

/* Móvil pequeño */
@media (max-width: 480px) {
     header {
          min-height: 60px;
          padding: var(--spacing-little-bit);
     }

     .nav-menu-header-web {
          top: 60px;
     }

     .hamburger-btn {
          font-size: 1.3rem;
          padding: 0.2rem 0.4rem;
     }

     header > .light-theme-button,
     header > .dark-theme-button {
          bottom: 15px;
          right: 15px;
     }
}



